<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OpenBIS API coverage • rOpenSci: infx</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- ropensci --><link href="../ropensci.css?nocache=123" rel="stylesheet">
<meta property="og:title" content="OpenBIS API coverage">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-462421-8"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-462421-8');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
        <a class="navbar-brand" href="../index.html"><i>infx <small>v0.1.0</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/infx-intro.html">Introduction to infx</a>
    </li>
    <li>
      <a href="../articles/json-class.html">JSON object handling</a>
    </li>
    <li>
      <a href="../articles/openbis-api.html">OpenBIS API coverage</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        
      </ul>
<form class="navbar-form navbar-right docsearch" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>OpenBIS API coverage</h1>
                        <h4 class="author">Nicolas Bennett</h4>
            
            <h4 class="date">2020-02-21</h4>
      
      
      <div class="hidden name"><code>openbis-api.Rmd</code></div>

    </div>

    
    
<p>This vignette serves to document which sections of the openBIS API are implemented by the presented client package and which functionality was omitted. Furthermore, the basic mechanisms for making requests to openBIS are explained such that a user who wishes to add some of the omitted API functions has some information on how to extend <code>infx</code>. Some general documentation on the API, offered by the openBIS developers is available <a href="https://wiki-bsse.ethz.ch/display/openBISDoc1304/openBIS+JSON+API">here</a>.</p>
<div id="creating-a-rest-call" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-a-rest-call" class="anchor"></a>Creating a REST call</h2>
<p>The basic functionality powering all Representational state transfer (REST) calls of <code>infx</code> is provided by <code><a href="../reference/request.html">do_requests_serial()</a></code> and <code><a href="../reference/request.html">do_requests_parallel()</a></code>. Both functions take roughly the same input and produce identical results, but differ in how curl is called. The former function makes requests in a sequential fashion, iteratively calling <code><a href="https://jeroen.cran.dev/curl/reference/curl_fetch.html">curl::curl_fetch_memory()</a></code> and the latter performs asynchronous requests, using <code><a href="https://jeroen.cran.dev/curl/reference/curl_fetch.html">curl::curl_fetch_multi()</a></code> to assemble all requests and <code><a href="https://jeroen.cran.dev/curl/reference/multi.html">curl::multi_run()</a></code> to carry them out in asynchronous parallel fashion.</p>
<p>Much of the behavior of <code><a href="../reference/request.html">do_requests_serial()</a></code> and <code><a href="../reference/request.html">do_requests_parallel()</a></code> can be customized using three functions passed as arguments <code>create_handle</code>, <code>check</code> and <code>finally</code>. Additionally, <code>do_requests_*()</code> takes a vector of <code>urls</code> and an optional object <code>bodies</code> which is expected to be of the same length as <code>urls</code>. Urls can either be passed as a character vector or a list of unevaluated function calls which will be evaluated using <code><a href="https://rdrr.io/r/base/eval.html">base::eval()</a></code> shortly before being used. Both functions support retrying failed requests up to <code>n_try</code> times.</p>
<p>For constructing the requests, both <code>urls</code> and <code>bodies</code> are iterated together. First, the function passed as <code>create_handle</code>, which receives as input the current entry of the <code>bodies</code> object is used to construct a curl handle using <code>curl::create_handle()</code>. Together with the current URL entry, <code>curl::curl_fetch_*()</code> is called and the resulting object is passed as first argument to the <code>check</code> function, which receives as second argument the current entry of the <code>bodies</code> object. The function passed as <code>check</code> argument should make sure the request completed successfully and in case of failure return a <code>simpleError</code> object, created by <code><a href="https://rdrr.io/r/base/conditions.html">base::simpleError()</a></code>. In case of success, it should return the part of the curl response object that is of further interest (most likely the <code>content</code> entry). Next the <code>finally</code> function is called on the object returned by <code>check</code> to do some final processing (e.g. parsing JSON or reading a binary file). If the <code>check</code> function signaled a failure and the number of available tries as specified by <code>n_try</code> is not used up, the request is made again. If the allowed number of tries is exceeded, a warning is issued.</p>
<p>Asynchronous requests are implemented by first adding <code>n_con</code> curl handles to a new multi handle and starting the downloads by calling <code><a href="https://jeroen.cran.dev/curl/reference/multi.html">curl::multi_run()</a></code>. For each successful request, a new handle is added to the pool using the <code>done</code> callback function of <code><a href="https://jeroen.cran.dev/curl/reference/multi.html">curl::multi_add()</a></code>. In conjunction with passing urls as unevaluated function calls, this helps with urls that have a limited lifetime in that the URL is only created right before being consumed. Instead of adding all requests at the same time and letting curl handle queuing, only <code>n_con</code> requests are handled by curl at any given time.</p>
<p>A very basic use of <code><a href="../reference/request.html">do_requests_serial()</a></code> is shown in the following example. The default function of the <code>create_handle</code> argument creates a new clean curl handle with no options set. The default function of the <code>check</code> argument makes sure that the status code is equal to 200 and returns the <code>content</code> entry of the list returned by <code><a href="https://jeroen.cran.dev/curl/reference/curl_fetch.html">curl::curl_fetch_memory()</a></code>. The default function for <code>finally</code> is <code><a href="https://rdrr.io/r/base/identity.html">base::identity()</a></code>. In order to receive a human-readable result instead of a raw vector, a function <code>process_raw()</code> is created, which converts the raw vector to a character vector yielding a JSON string.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">urls &lt;-<span class="st"> "https://httpbin.org/ip"</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3">pretty_json &lt;-<span class="st"> </span><span class="cf">function</span>(x)</a>
<a class="sourceLine" id="cb1-4" title="4">  jsonlite<span class="op">::</span><span class="kw"><a href="https://jeroen.cran.dev/jsonlite/reference/prettify.html">prettify</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/rawConversion.html">rawToChar</a></span>(x))</a>
<a class="sourceLine" id="cb1-5" title="5"></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="kw"><a href="../reference/request.html">do_requests_serial</a></span>(urls, <span class="dt">finally =</span> pretty_json)</a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">#&gt; {</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">#&gt;     "origin": "172.104.227.59"</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">#&gt; }</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="co">#&gt; </span></a></code></pre></div>
<p>Note that a list of length 1 is returned by <code><a href="../reference/request.html">do_requests_serial()</a></code>. This is because the <code>do_requests_*()</code> functions are vectorized over requests and therefore return a list with as many entries as requests. A slightly more involved example for creating a request using <code><a href="../reference/request.html">do_requests_serial()</a></code> is as follows.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">urls &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="st">"https://httpbin.org/post"</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb2-2" title="2">json &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">a =</span> <span class="st">"foo"</span>),</a>
<a class="sourceLine" id="cb2-3" title="3">             <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">a =</span> <span class="st">"bar"</span>))</a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5">post_handle &lt;-<span class="st"> </span><span class="cf">function</span>(x)</a>
<a class="sourceLine" id="cb2-6" title="6">  curl<span class="op">::</span><span class="kw"><a href="https://jeroen.cran.dev/curl/reference/handle.html">handle_setheaders</a></span>(</a>
<a class="sourceLine" id="cb2-7" title="7">    curl<span class="op">::</span><span class="kw"><a href="https://jeroen.cran.dev/curl/reference/handle.html">new_handle</a></span>(<span class="dt">postfields =</span> <span class="kw"><a href="https://rdrr.io/r/base/rawConversion.html">charToRaw</a></span>(jsonlite<span class="op">::</span><span class="kw"><a href="https://jeroen.cran.dev/jsonlite/reference/fromJSON.html">toJSON</a></span>(x))),</a>
<a class="sourceLine" id="cb2-8" title="8">    <span class="st">"Content-Type"</span> =<span class="st"> "application/json"</span></a>
<a class="sourceLine" id="cb2-9" title="9">  )</a>
<a class="sourceLine" id="cb2-10" title="10"></a>
<a class="sourceLine" id="cb2-11" title="11">process_json &lt;-<span class="st"> </span><span class="cf">function</span>(x)</a>
<a class="sourceLine" id="cb2-12" title="12">  jsonlite<span class="op">::</span><span class="kw"><a href="https://jeroen.cran.dev/jsonlite/reference/fromJSON.html">fromJSON</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/rawConversion.html">rawToChar</a></span>(x))<span class="op">$</span>json</a>
<a class="sourceLine" id="cb2-13" title="13"></a>
<a class="sourceLine" id="cb2-14" title="14">res &lt;-<span class="st"> </span><span class="kw"><a href="../reference/request.html">do_requests_serial</a></span>(urls, json,</a>
<a class="sourceLine" id="cb2-15" title="15">                          <span class="dt">create_handle =</span> post_handle,</a>
<a class="sourceLine" id="cb2-16" title="16">                          <span class="dt">finally =</span> process_json)</a>
<a class="sourceLine" id="cb2-17" title="17"><span class="kw"><a href="https://rdrr.io/r/base/identical.html">identical</a></span>(res, json)</a>
<a class="sourceLine" id="cb2-18" title="18"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
<p>In order to customize the curl handle, a <code>create_handle</code> function is supplied, which receives for each request the corresponding entry of the object passed as <code>bodies</code> argument. The <code>finally</code> function in this example parses the returned JSON object into a list. Since for POST requests, <code>httpbin</code> mirrors the POST data, the initial <code>json</code> list is returned.</p>
</div>
<div id="creating-a-json-rpc-request" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-a-json-rpc-request" class="anchor"></a>Creating a JSON-RPC request</h2>
<p>Building on functionality offered by the <code>do_requests_*()</code> functions, <code><a href="../reference/request.html">make_requests()</a></code> helps with constructing JSON-RPC calls. As per the JSON-RPC 2.0 specification, a request object is a JSON string with the following members<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>:</p>
<ul>
<li>
<code>jsonrpc</code>: A string specifying the version of the JSON-RPC protocol.</li>
<li>
<code>method</code>: A string containing the name of the method to be invoked.</li>
<li>
<code>params</code>: A structured value that holds the parameter values to be used during the invocation of the method.</li>
<li>
<code>id</code>: An identifier established by the client.</li>
</ul>
<p>In order to create a list of such request objects, the arguments <code>methods</code>, <code>params</code>, <code>ids</code> and <code>version</code>, which map to <code>method</code>, <code>params</code>, <code>id</code> and <code>jsonrpc</code>, respectively, are combined and converted to JSON. OpenBIS API endpoint urls are constructed with the helper function <code><a href="../reference/openbis_urls.html">api_url()</a></code> which can receive arguments <code>api_endpoint</code> and <code>host_url</code>, forwarded by <code><a href="../reference/request.html">make_requests()</a></code>. The argument <code>n_con</code> is used to specify the maximal number of simultaneous connections made to the server.</p>
<p>As <code><a href="../reference/request.html">make_requests()</a></code> is designed to construct several requests at the time, the arguments <code>methods</code> and <code>params</code> are vectorized. If any of the passed objects is of length 1, it is replicated using <code><a href="https://rdrr.io/r/base/rep.html">base::rep()</a></code> to the required length such that all three objects are of the same length. Care has to be taken with the list passed as <code>params</code> such that its length corresponds to the number of requests. This means that if only a single set of parameters is passed, this list has to be wrapped by another list.</p>
<p>As a last argument, a <code>finally</code> function can be passed, which defaults to <code><a href="../reference/request.html">process_json()</a></code>. This function first converts all typed JSON objects to <code>json_class</code> objects using <code><a href="../reference/json_class.html">as_json_class()</a></code>, resolves object references using <code><a href="../reference/request.html">resolve_references()</a></code> in order to make all <code>json_class</code> objects self-contained and then creates a <code>json_vec</code> object using <code><a href="../reference/json_vec.html">as_json_vec()</a></code>, therefore allowing S3 method dispatch on lists of <code>json_class</code> objects. For more information on the specifics of this, please refer to the vignette <a href="json-class.html">“JSON object handling”</a>.</p>
<p>For single requests, a wrapper around <code><a href="../reference/request.html">make_requests()</a></code> is available as <code><a href="../reference/request.html">make_request()</a></code>. This function wraps the <code>params</code> argument in a list such that a list of length 1 is passed to <code><a href="../reference/request.html">make_requests()</a></code> and returns the first entry of the list resulting from calling <code><a href="../reference/request.html">make_requests()</a></code>. The following example shows how <code><a href="../reference/request.html">make_request()</a></code> is used to implement the API method <a href="https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/generic/shared/api/v1/IGeneralInformationService.html#listProjects%28java.lang.String%29"><code>listProjects</code></a>, which takes an access token passed as a list as its only argument.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">token &lt;-<span class="st"> </span><span class="kw"><a href="../reference/login.html">login_openbis</a></span>()</a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3">projects &lt;-<span class="st"> </span><span class="kw"><a href="../reference/request.html">make_request</a></span>(<span class="kw"><a href="../reference/openbis_urls.html">api_url</a></span>(<span class="dt">api_endpoint =</span> <span class="st">"gis"</span>),</a>
<a class="sourceLine" id="cb3-4" title="4">                         <span class="dt">method =</span> <span class="st">"listProjects"</span>,</a>
<a class="sourceLine" id="cb3-5" title="5">                         <span class="dt">params =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(token))</a>
<a class="sourceLine" id="cb3-6" title="6"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(projects, <span class="dt">length =</span> 10L)</a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">#&gt; ┌─█─Project </span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">#&gt; │ ├─permId = 20130710131815818-2788266 </span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">#&gt; │ ├─spaceCode = INFECTX_PUBLISHED </span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co">#&gt; │ ├─code = ADENO_TEAM </span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="co">#&gt; │ ├─description =  </span></a>
<a class="sourceLine" id="cb3-12" title="12"><span class="co">#&gt; │ ├─registrationDetails = █─EntityRegistrationDetails </span></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="co">#&gt; │ │                       └─... </span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="co">#&gt; │ └─id = 39 </span></a>
<a class="sourceLine" id="cb3-15" title="15"><span class="co">#&gt; ├─█─Project </span></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="co">#&gt; ...</span></a>
<a class="sourceLine" id="cb3-17" title="17"></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="kw"><a href="../reference/login.html">logout_openbis</a></span>(token)</a></code></pre></div>
<p>To illustrate the used of <code><a href="../reference/request.html">make_requests()</a></code>, the API method <a href="https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/dss/generic/shared/api/v1/IDssServiceRpcGeneric.html#getDownloadUrlForFileForDataSet%28java.lang.String,%20java.lang.String,%20java.lang.String%29"><code>getDownloadUrlForFileForDataSet</code></a> is implemented. This function generates a download URL for a file in a data set and requires a separate API call for each combination of data set and file path. In order to carry out several of these requests asynchronously, a list has to be passed as <code>params</code> argument such that each entry contains a list holding a login token, a dataset code and a file path.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">token &lt;-<span class="st"> </span><span class="kw"><a href="../reference/login.html">login_openbis</a></span>()</a>
<a class="sourceLine" id="cb4-2" title="2"></a>
<a class="sourceLine" id="cb4-3" title="3">dataset_codes &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"20120629093035782-603380"</span>, <span class="st">"20121011143734361-1359915"</span>)</a>
<a class="sourceLine" id="cb4-4" title="4">file_path &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"original/aThresholdedInfectionScoring_bBB01-1I.csv"</span>)</a>
<a class="sourceLine" id="cb4-5" title="5"></a>
<a class="sourceLine" id="cb4-6" title="6">params &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(dataset_codes, <span class="cf">function</span>(x) <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(token, x, file_path))</a>
<a class="sourceLine" id="cb4-7" title="7"></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="kw"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(params)</a>
<a class="sourceLine" id="cb4-9" title="9"><span class="co">#&gt; List of 2</span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="co">#&gt;  $ :List of 3</span></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="co">#&gt;   ..$ : chr "rdgr2014-200221045803737x822A4F0F786C4BA3F82B273496B908AC"</span></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="co">#&gt;   .. ..- attr(*, "host_url")= chr "https://infectx.biozentrum.unibas.ch"</span></a>
<a class="sourceLine" id="cb4-13" title="13"><span class="co">#&gt;   .. ..- attr(*, "finaliser")=&lt;environment: 0x564b0270c6a8&gt; </span></a>
<a class="sourceLine" id="cb4-14" title="14"><span class="co">#&gt;   ..$ : chr "20120629093035782-603380"</span></a>
<a class="sourceLine" id="cb4-15" title="15"><span class="co">#&gt;   ..$ : chr "original/aThresholdedInfectionScoring_bBB01-1I.csv"</span></a>
<a class="sourceLine" id="cb4-16" title="16"><span class="co">#&gt;  $ :List of 3</span></a>
<a class="sourceLine" id="cb4-17" title="17"><span class="co">#&gt;   ..$ : chr "rdgr2014-200221045803737x822A4F0F786C4BA3F82B273496B908AC"</span></a>
<a class="sourceLine" id="cb4-18" title="18"><span class="co">#&gt;   .. ..- attr(*, "host_url")= chr "https://infectx.biozentrum.unibas.ch"</span></a>
<a class="sourceLine" id="cb4-19" title="19"><span class="co">#&gt;   .. ..- attr(*, "finaliser")=&lt;environment: 0x564b0270c6a8&gt; </span></a>
<a class="sourceLine" id="cb4-20" title="20"><span class="co">#&gt;   ..$ : chr "20121011143734361-1359915"</span></a>
<a class="sourceLine" id="cb4-21" title="21"><span class="co">#&gt;   ..$ : chr "original/aThresholdedInfectionScoring_bBB01-1I.csv"</span></a>
<a class="sourceLine" id="cb4-22" title="22"></a>
<a class="sourceLine" id="cb4-23" title="23">donwload_urls &lt;-<span class="st"> </span><span class="kw"><a href="../reference/request.html">make_requests</a></span>(<span class="kw"><a href="../reference/openbis_urls.html">api_url</a></span>(<span class="dt">api_endpoint =</span> <span class="st">"dsrg"</span>),</a>
<a class="sourceLine" id="cb4-24" title="24">                               <span class="dt">method =</span> <span class="st">"getDownloadUrlForFileForDataSet"</span>,</a>
<a class="sourceLine" id="cb4-25" title="25">                               <span class="dt">params =</span> params)</a>
<a class="sourceLine" id="cb4-26" title="26"><span class="kw"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(donwload_urls)</a>
<a class="sourceLine" id="cb4-27" title="27"><span class="co">#&gt; List of 2</span></a>
<a class="sourceLine" id="cb4-28" title="28"><span class="co">#&gt;  $ : chr "https://infectx.biozentrum.unibas.ch/datastore_server/stream-content?streamID=200221045805382-8171E5F3216C8A35A9AB754909345F4A"</span></a>
<a class="sourceLine" id="cb4-29" title="29"><span class="co">#&gt;  $ : chr "https://infectx.biozentrum.unibas.ch/datastore_server/stream-content?streamID=200221045805372-F157F9FCA3454B3B0B86A63F8C7D7089"</span></a>
<a class="sourceLine" id="cb4-30" title="30"></a>
<a class="sourceLine" id="cb4-31" title="31"><span class="kw"><a href="../reference/login.html">logout_openbis</a></span>(token)</a></code></pre></div>
<p>In addition to the JSON-RPC calls enabled by <code><a href="../reference/request.html">make_request()</a></code>/<code><a href="../reference/request.html">make_requests()</a></code>, the <code>do_requests_*()</code> functions are also used for (asynchronous) file downloads in <code><a href="../reference/list_fetch_files.html">fetch_files()</a></code>. Slightly different functions are used as <code>create_handle</code> and <code>check</code> arguments but apart from that the logic remains largely the same.</p>
<p>Any arguments passed as <code>...</code> to <code><a href="../reference/request.html">make_requests()</a></code> will be forwarded to <code><a href="../reference/openbis_urls.html">api_url()</a></code> which creates an API endpoint URL and passes this on to the <code>do_requests_*()</code> functions. As all functions that issue API calls use <code><a href="../reference/request.html">make_requests()</a></code>, this makes it possible to not only target the InfectX openBIS instance, but arbitrary openBIS servers that support the v1 JSON-RPC API. The following example serves to illustrate how this mechanism can be used to access the openBIS demo.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">token &lt;-<span class="st"> </span><span class="kw"><a href="../reference/login.html">login_openbis</a></span>(<span class="st">"test_observer"</span>, <span class="st">"test_observer"</span>,</a>
<a class="sourceLine" id="cb5-2" title="2">                       <span class="dt">host_url =</span> <span class="st">"https://openbis-eln-lims.ethz.ch"</span>)</a>
<a class="sourceLine" id="cb5-3" title="3"></a>
<a class="sourceLine" id="cb5-4" title="4">gel_data &lt;-<span class="st"> </span><span class="kw"><a href="../reference/search_openbis.html">search_openbis</a></span>(</a>
<a class="sourceLine" id="cb5-5" title="5">  token,</a>
<a class="sourceLine" id="cb5-6" title="6">  <span class="kw"><a href="../reference/search_openbis.html">search_criteria</a></span>(</a>
<a class="sourceLine" id="cb5-7" title="7">    <span class="kw"><a href="../reference/search_openbis.html">attribute_clause</a></span>(<span class="st">"type"</span>, <span class="st">"ELN_PREVIEW"</span>),</a>
<a class="sourceLine" id="cb5-8" title="8">    <span class="dt">sub_criteria =</span> <span class="kw"><a href="../reference/search_openbis.html">search_sub_criteria</a></span>(</a>
<a class="sourceLine" id="cb5-9" title="9">      <span class="kw"><a href="../reference/search_openbis.html">search_criteria</a></span>(</a>
<a class="sourceLine" id="cb5-10" title="10">        <span class="kw"><a href="../reference/search_openbis.html">attribute_clause</a></span>(<span class="dt">value =</span> <span class="st">"WB_LEXA-ER-B112"</span>)</a>
<a class="sourceLine" id="cb5-11" title="11">      ),</a>
<a class="sourceLine" id="cb5-12" title="12">      <span class="dt">type =</span> <span class="st">"sample"</span></a>
<a class="sourceLine" id="cb5-13" title="13">    )</a>
<a class="sourceLine" id="cb5-14" title="14">  )</a>
<a class="sourceLine" id="cb5-15" title="15">)</a>
<a class="sourceLine" id="cb5-16" title="16"></a>
<a class="sourceLine" id="cb5-17" title="17">gel_img &lt;-<span class="st"> </span><span class="kw"><a href="../reference/list_fetch_files.html">fetch_files</a></span>(token, gel_data,</a>
<a class="sourceLine" id="cb5-18" title="18">                       <span class="dt">reader =</span> magick<span class="op">::</span>image_read)</a>
<a class="sourceLine" id="cb5-19" title="19"></a>
<a class="sourceLine" id="cb5-20" title="20"><span class="kw"><a href="../reference/login.html">logout_openbis</a></span>(token)</a>
<a class="sourceLine" id="cb5-21" title="21"></a>
<a class="sourceLine" id="cb5-22" title="22"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(gel_img[[<span class="dv">1</span>]])</a>
<a class="sourceLine" id="cb5-23" title="23"><span class="co">#&gt;   format width height colorspace matte filesize density</span></a>
<a class="sourceLine" id="cb5-24" title="24"><span class="co">#&gt; 1    PNG  2110    321       Gray FALSE   407918 118x118</span></a></code></pre></div>
<p><img src="openbis-api_files/figure-html/third-party-1.png" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span>(gel_img[[<span class="dv">1</span>]])</a>
<a class="sourceLine" id="cb6-2" title="2"><span class="co">#&gt; $class</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="co">#&gt; [1] "magick-image"</span></a></code></pre></div>
<p><code><a href="../reference/openbis_urls.html">api_url()</a></code> can accept arguments <code>api_endpoint</code>, <code>host_url</code> and <code>full_url</code> and ignores any further arguments. The first argument offers a selection of hard-coded API endpoints and in combination with the second argument is used to access one of them on the specified openBIS host. In case a URL that is not supported by the <code>api_endpoint</code> selector is desired, the complete URL can be passed as <code>full_url</code> which will simply be returned by <code><a href="../reference/openbis_urls.html">api_url()</a></code>.</p>
</div>
<div id="summary-of-api-methods" class="section level2">
<h2 class="hasAnchor">
<a href="#summary-of-api-methods" class="anchor"></a>Summary of API methods</h2>
<p>Currently no methods from the API sections</p>
<ul>
<li><a href="http://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/generic/shared/api/v1/IGeneralInformationChangingService.html">IGeneralInformationChangingService</a></li>
<li><a href="http://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/plugin/query/shared/api/v1/IQueryApiServer.html">IQueryApiServer</a></li>
<li><a href="http://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/generic/shared/api/v1/IWebInformationService.html">IWebInformationService</a></li>
</ul>
<p>are implemented as they mostly deal with modifying metadata and creating new aggregation reports. The main focus of this package is retrieving data and therefore only methods from the API sections</p>
<ul>
<li>
<a href="https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/dss/generic/shared/api/v1/IDssServiceRpcGeneric.html">IDssServiceRpcGeneric</a>, 32 % implemented</li>
<li>
<a href="https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/dss/screening/shared/api/v1/IDssServiceRpcScreening.html">IDssServiceRpcScreening</a>, 60 % implemented</li>
<li>
<a href="https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/generic/shared/api/v1/IGeneralInformationService.html">IGeneralInformationService</a>, 60 % implemented</li>
<li>
<a href="https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/plugin/screening/shared/api/v1/IScreeningApiServer.html">IScreeningApiServer</a>, 48 % implemented</li>
</ul>
<p>are currently available. A more detailed overview of what functionality is implemented in this API client is given in the following sections.</p>
<div id="interface-idssservicerpcgeneric" class="section level3">
<h3 class="hasAnchor">
<a href="#interface-idssservicerpcgeneric" class="anchor"></a>Interface IDssServiceRpcGeneric</h3>
<p>Generic functionality for interacting with the DSS. More information available <a href="https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/dss/generic/shared/api/v1/IDssServiceRpcGeneric.html">here</a>.</p>
<table class="table">
<thead><tr class="header">
<th align="left">Method name</th>
<th align="left">Status</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">createReportFromAggregationService</td>
<td align="left">skipped</td>
<td align="left">Create the report from the specified aggregation service.</td>
</tr>
<tr class="even">
<td align="left">createReportFromDataSets</td>
<td align="left">skipped</td>
<td align="left">Creates for the specified data sets a report.</td>
</tr>
<tr class="odd">
<td align="left">deleteSessionWorkspaceFile</td>
<td align="left">skipped</td>
<td align="left">Delete a file or directory in the session workspace.</td>
</tr>
<tr class="even">
<td align="left">getDownloadUrlForFileForDataSet</td>
<td align="left">implemented</td>
<td align="left">Returns an URL from which the requested file.</td>
</tr>
<tr class="odd">
<td align="left">getDownloadUrlForFileForDataSet</td>
<td align="left">implemented</td>
<td align="left">Returns an URL from which the requested file of the specified data set can be downloaded.</td>
</tr>
<tr class="even">
<td align="left">getDownloadUrlForFileForDataSetWithTimeout</td>
<td align="left">implemented</td>
<td align="left">Returns an URL from which the requested file.</td>
</tr>
<tr class="odd">
<td align="left">getDownloadUrlForFileForDataSetWithTimeout</td>
<td align="left">implemented</td>
<td align="left">Returns an URL from which the requested file of the specified data set can be downloaded.</td>
</tr>
<tr class="even">
<td align="left">getFileFromSessionWorkspace</td>
<td align="left">skipped</td>
<td align="left">Download a file from the user’s session workspace.</td>
</tr>
<tr class="odd">
<td align="left">getPathToDataSet</td>
<td align="left">skipped</td>
<td align="left">Get a path to the data set.</td>
</tr>
<tr class="even">
<td align="left">getValidationScript</td>
<td align="left">skipped</td>
<td align="left">Get the validation script for the specified data set type.</td>
</tr>
<tr class="odd">
<td align="left">listAggregationServices</td>
<td align="left">skipped</td>
<td align="left">Returns metadata for all aggregation services.</td>
</tr>
<tr class="even">
<td align="left">listAllShares</td>
<td align="left">skipped</td>
<td align="left">Lists all shares.</td>
</tr>
<tr class="odd">
<td align="left">listFilesForDataSet</td>
<td align="left">implemented</td>
<td align="left">Get an array of FileInfoDss objects that describe the file-system structure of the data set.</td>
</tr>
<tr class="even">
<td align="left">listFilesForDataSet</td>
<td align="left">implemented</td>
<td align="left">Get an array of FileInfoDss objects that describe the file-system structure of the data set.</td>
</tr>
<tr class="odd">
<td align="left">listTableReportDescriptions</td>
<td align="left">skipped</td>
<td align="left">Returns meta data for all reporting plugins which deliver a table.</td>
</tr>
<tr class="even">
<td align="left">putDataSet</td>
<td align="left">skipped</td>
<td align="left">Upload a new data set to the DSS.</td>
</tr>
<tr class="odd">
<td align="left">putFileSliceToSessionWorkspace</td>
<td align="left">skipped</td>
<td align="left">Upload a file slice to the user’s session workspace.</td>
</tr>
<tr class="even">
<td align="left">putFileToSessionWorkspace</td>
<td align="left">skipped</td>
<td align="left">Upload a new file to the user’s session workspace.</td>
</tr>
<tr class="odd">
<td align="left">shuffleDataSet</td>
<td align="left">skipped</td>
<td align="left">Moves specified data set to specified share.</td>
</tr>
</tbody>
</table>
</div>
<div id="interface-idssservicerpcscreening" class="section level3">
<h3 class="hasAnchor">
<a href="#interface-idssservicerpcscreening" class="anchor"></a>Interface IDssServiceRpcScreening</h3>
<p>Public DSS API for screening. More information available <a href="https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/dss/screening/shared/api/v1/IDssServiceRpcScreening.html">here</a>.</p>
<table class="table">
<thead><tr class="header">
<th align="left">Method name</th>
<th align="left">Status</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">getFeatureList</td>
<td align="left">skipped</td>
<td align="left">Return the feature codes of a specified feature list for a specified feature vector data set</td>
</tr>
<tr class="even">
<td align="left">getImageTransformerFactoryOrNull</td>
<td align="left">skipped</td>
<td align="left">Returns the transformer factory for the specified channel and the experiment to which the specified data sets belong.</td>
</tr>
<tr class="odd">
<td align="left">listAvailableFeatureCodes</td>
<td align="left">implemented</td>
<td align="left">For a given set of feature vector data sets provide the list of all available features.</td>
</tr>
<tr class="even">
<td align="left">listAvailableFeatures</td>
<td align="left">implemented</td>
<td align="left">For a given set of feature vector data sets provide the list of all available features.</td>
</tr>
<tr class="odd">
<td align="left">listAvailableImageRepresentationFormats</td>
<td align="left">implemented</td>
<td align="left">Return image representation formats available for the specified image data sets.</td>
</tr>
<tr class="even">
<td align="left">listImageMetadata</td>
<td align="left">implemented</td>
<td align="left">For a given set of image data sets, provide all image channels that have been acquired and the available (natural) image size(s).</td>
</tr>
<tr class="odd">
<td align="left">listImageReferences</td>
<td align="left">implemented</td>
<td align="left">Lists microscopy image references for specified data set and channels.</td>
</tr>
<tr class="even">
<td align="left">listImageReferences</td>
<td align="left">implemented</td>
<td align="left">Lists microscopy image references for specified data set and channel.</td>
</tr>
<tr class="odd">
<td align="left">listPlateImageReferences</td>
<td align="left">implemented</td>
<td align="left">Lists plate image references for specified data set, list of well positions and channels.</td>
</tr>
<tr class="even">
<td align="left">listPlateImageReferences</td>
<td align="left">implemented</td>
<td align="left">Lists plate image references for specified data set, list of well positions and channel.</td>
</tr>
<tr class="odd">
<td align="left">loadFeatures</td>
<td align="left">implemented</td>
<td align="left">Conceptually, for a given list of data well references (i.e.</td>
</tr>
<tr class="even">
<td align="left">loadFeaturesForDatasetWellReferences</td>
<td align="left">implemented</td>
<td align="left">Conceptually, for a given list of dataset well references (i.e.</td>
</tr>
<tr class="odd">
<td align="left">loadImages</td>
<td align="left">skipped</td>
<td align="left">Provide images for specified data set, list of well positions, channel, and optional thumb nail size.</td>
</tr>
<tr class="even">
<td align="left">loadImages</td>
<td align="left">skipped</td>
<td align="left">Provide images for specified microscopy data set, channel and optional thumb nail size.</td>
</tr>
<tr class="odd">
<td align="left">loadImages</td>
<td align="left">skipped</td>
<td align="left">Provide images for a given list of image references (given by data set code, well position, channel and tile).</td>
</tr>
<tr class="even">
<td align="left">loadImages</td>
<td align="left">skipped</td>
<td align="left">Provide images for a given list of image references (specified by data set code, well position, channel and tile).</td>
</tr>
<tr class="odd">
<td align="left">loadImages</td>
<td align="left">skipped</td>
<td align="left">Provides images for the specified list of image references (specified by data set code, well position, channel and tile) and image selection criteria.</td>
</tr>
<tr class="even">
<td align="left">loadImages</td>
<td align="left">skipped</td>
<td align="left">Provides images for the specified list of image references (specified by data set code, well position, channel and tile) and specified image representation format.</td>
</tr>
<tr class="odd">
<td align="left">loadImages</td>
<td align="left">skipped</td>
<td align="left">Provide images (PNG encoded) for a given list of image references (given by data set code, well position, channel and tile).</td>
</tr>
<tr class="even">
<td align="left">loadImages</td>
<td align="left">skipped</td>
<td align="left">Provide images for a given list of image references (specified by data set code, well position, channel and tile).</td>
</tr>
<tr class="odd">
<td align="left">loadImagesBase64</td>
<td align="left">implemented</td>
<td align="left">Returns the same images as loadImages(String, IDatasetIdentifier, List, String, ImageSize) but the result is a list of base64 encoded strings that contain the image data.</td>
</tr>
<tr class="even">
<td align="left">loadImagesBase64</td>
<td align="left">implemented</td>
<td align="left">Returns the same images as loadImages(String, IDatasetIdentifier, String, ImageSize) but the result is a list of base64 encoded strings that contain the image data.</td>
</tr>
<tr class="odd">
<td align="left">loadImagesBase64</td>
<td align="left">implemented</td>
<td align="left">Returns the same images as loadImages(String, List) but the result is a list of base64 encoded strings that contain the image data.</td>
</tr>
<tr class="even">
<td align="left">loadImagesBase64</td>
<td align="left">implemented</td>
<td align="left">Returns the same images as loadImages(String, List, boolean) but the result is a list of base64 encoded strings that contain the image data.</td>
</tr>
<tr class="odd">
<td align="left">loadImagesBase64</td>
<td align="left">implemented</td>
<td align="left">Returns the same images as loadImages(String, List, IImageRepresentationFormatSelectionCriterion…) but the result is a list of base64 encoded strings that contain the image data.</td>
</tr>
<tr class="even">
<td align="left">loadImagesBase64</td>
<td align="left">implemented</td>
<td align="left">Returns the same images as loadImages(String, List, ImageRepresentationFormat) but the result is a list of base64 encoded strings that contain the image data.</td>
</tr>
<tr class="odd">
<td align="left">loadImagesBase64</td>
<td align="left">implemented</td>
<td align="left">Returns the same images as loadImages(String, List, ImageSize) but the result is a list of base64 encoded strings that contain the image data.</td>
</tr>
<tr class="even">
<td align="left">loadImagesBase64</td>
<td align="left">implemented</td>
<td align="left">Returns the same images as loadImages(String, List, LoadImageConfiguration) but the result is a list of base64 encoded strings that contain the image data.</td>
</tr>
<tr class="odd">
<td align="left">loadPhysicalThumbnails</td>
<td align="left">skipped</td>
<td align="left">The fast method to provide registered thumbnail images (without calculating them) for the specified list of image references (specified by data set code, well position, channel and tile) and specified image representation format.</td>
</tr>
<tr class="even">
<td align="left">loadPhysicalThumbnailsBase64</td>
<td align="left">implemented</td>
<td align="left">Returns the same images as loadPhysicalThumbnails(String, List, ImageRepresentationFormat) but the result is a list of base64 encoded strings that contain the image data.</td>
</tr>
<tr class="odd">
<td align="left">loadThumbnailImages</td>
<td align="left">skipped</td>
<td align="left">Provide thumbnail images for specified microscopy data set.</td>
</tr>
<tr class="even">
<td align="left">loadThumbnailImages</td>
<td align="left">skipped</td>
<td align="left">Provide thumbnail images for a given list of image references (specified by data set code, well position, channel and tile).</td>
</tr>
<tr class="odd">
<td align="left">loadThumbnailImagesBase64</td>
<td align="left">implemented</td>
<td align="left">Returns the same images as loadThumbnailImages(String, IDatasetIdentifier, List) but the result is a list of base64 encoded strings that contain the image data.</td>
</tr>
<tr class="even">
<td align="left">loadThumbnailImagesBase64</td>
<td align="left">implemented</td>
<td align="left">Returns the same images as loadThumbnailImages(String, List) but the result is a list of base64 encoded strings that contain the image data.</td>
</tr>
<tr class="odd">
<td align="left">saveImageTransformerFactory</td>
<td align="left">skipped</td>
<td align="left">Saves the specified transformer factory for the specified channel of the specified data.</td>
</tr>
</tbody>
</table>
</div>
<div id="interface-igeneralinformationservice" class="section level3">
<h3 class="hasAnchor">
<a href="#interface-igeneralinformationservice" class="anchor"></a>Interface IGeneralInformationService</h3>
<p>Service for retrieving general informations. More information available <a href="https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/generic/shared/api/v1/IGeneralInformationService.html">here</a>.</p>
<table class="table">
<thead><tr class="header">
<th align="left">Method name</th>
<th align="left">Status</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">filterDataSetsVisibleToUser</td>
<td align="left">skipped</td>
<td align="left">Returns a filtered list of allDataSets containing those data sets which are visible to userId.</td>
</tr>
<tr class="even">
<td align="left">filterExperimentsVisibleToUser</td>
<td align="left">skipped</td>
<td align="left">Returns a filtered list of allExperiments containing those experiments which are visible to userId.</td>
</tr>
<tr class="odd">
<td align="left">filterSamplesVisibleToUser</td>
<td align="left">skipped</td>
<td align="left">Returns a filtered list of allSamples containing those samples which are visible to userId.</td>
</tr>
<tr class="even">
<td align="left">getDataSetMetaData</td>
<td align="left">implemented</td>
<td align="left">Returns meta data for all specified data sets.</td>
</tr>
<tr class="odd">
<td align="left">getDataSetMetaData</td>
<td align="left">implemented</td>
<td align="left">Returns meta data for all specified data sets.</td>
</tr>
<tr class="even">
<td align="left">getDataStoreBaseURLs</td>
<td align="left">implemented</td>
<td align="left">Returns the download URL for the data store of specified data sets.</td>
</tr>
<tr class="odd">
<td align="left">getDefaultPutDataStoreBaseURL</td>
<td align="left">implemented</td>
<td align="left">Returns the URL for the default data store server for this openBIS AS.</td>
</tr>
<tr class="even">
<td align="left">getMaterialByCodes</td>
<td align="left">implemented</td>
<td align="left">Returns the materials with specified identifiers (i.e.</td>
</tr>
<tr class="odd">
<td align="left">getMetaproject</td>
<td align="left">skipped</td>
<td align="left">Returns all entities tagged with given metaproject.</td>
</tr>
<tr class="even">
<td align="left">getMetaprojectOnBehalfOfUser</td>
<td align="left">skipped</td>
<td align="left">Returns all entities tagged with given metaproject for specified user.</td>
</tr>
<tr class="odd">
<td align="left">isSessionActive</td>
<td align="left">implemented</td>
<td align="left">Returns true if session with the specified token is still active, false otherwise.</td>
</tr>
<tr class="even">
<td align="left">listAttachmentsForExperiment</td>
<td align="left">skipped</td>
<td align="left">Lists attachments of specified experiment.</td>
</tr>
<tr class="odd">
<td align="left">listAttachmentsForProject</td>
<td align="left">skipped</td>
<td align="left">Lists attachments of specified project.</td>
</tr>
<tr class="even">
<td align="left">listAttachmentsForSample</td>
<td align="left">skipped</td>
<td align="left">Lists attachments of specified sample.</td>
</tr>
<tr class="odd">
<td align="left">listDataSets</td>
<td align="left">implemented</td>
<td align="left">Return all data sets attached to the given samples.</td>
</tr>
<tr class="even">
<td align="left">listDataSets</td>
<td align="left">implemented</td>
<td align="left">Return all data sets attached to the given samples with connections.</td>
</tr>
<tr class="odd">
<td align="left">listDataSetsForExperiments</td>
<td align="left">implemented</td>
<td align="left">Return all data sets attached to the given experiments with connections.</td>
</tr>
<tr class="even">
<td align="left">listDataSetsForExperimentsOnBehalfOfUser</td>
<td align="left">skipped</td>
<td align="left">Return all data sets attached to the given experiments with connections that the user userId is allowed to see.</td>
</tr>
<tr class="odd">
<td align="left">listDataSetsForSample</td>
<td align="left">implemented</td>
<td align="left">Return the data sets attached to the specified sample, optionally including child samples.</td>
</tr>
<tr class="even">
<td align="left">listDataSetsOnBehalfOfUser</td>
<td align="left">skipped</td>
<td align="left">Return all data sets attached to the given samples with connections that the user userId is allowed to see.</td>
</tr>
<tr class="odd">
<td align="left">listDataSetTypes</td>
<td align="left">implemented</td>
<td align="left">Returns all data set types.</td>
</tr>
<tr class="even">
<td align="left">listDataStores</td>
<td align="left">implemented</td>
<td align="left">Lists all DSS server registered this openBIS server instance.</td>
</tr>
<tr class="odd">
<td align="left">listExperiments</td>
<td align="left">implemented</td>
<td align="left">Return all experiments of the given type that belong to the supplied projects.</td>
</tr>
<tr class="even">
<td align="left">listExperiments</td>
<td align="left">implemented</td>
<td align="left">Return all experiments matching a specified set of identifiers.</td>
</tr>
<tr class="odd">
<td align="left">listExperimentsHavingDataSets</td>
<td align="left">implemented</td>
<td align="left">Return all experiments of the given type that belong to the supplied projects and have registered data sets.</td>
</tr>
<tr class="even">
<td align="left">listExperimentsHavingSamples</td>
<td align="left">implemented</td>
<td align="left">Return all experiments of the given type that belong to the supplied projects and have registered samles.</td>
</tr>
<tr class="odd">
<td align="left">listExperimentTypes</td>
<td align="left">implemented</td>
<td align="left">Returns all experiment types.</td>
</tr>
<tr class="even">
<td align="left">listMetaprojects</td>
<td align="left">skipped</td>
<td align="left">Lists all metaprojects belonging to current user.</td>
</tr>
<tr class="odd">
<td align="left">listMetaprojectsOnBehalfOfUser</td>
<td align="left">skipped</td>
<td align="left">Lists all metaprojects belonging to specified user.</td>
</tr>
<tr class="even">
<td align="left">listNamedRoleSets</td>
<td align="left">skipped</td>
<td align="left">Returns all named role sets.</td>
</tr>
<tr class="odd">
<td align="left">listProjects</td>
<td align="left">implemented</td>
<td align="left">Returns all available projects.</td>
</tr>
<tr class="even">
<td align="left">listProjectsOnBehalfOfUser</td>
<td align="left">skipped</td>
<td align="left">Returns all available projects that a particular user is allowed to see.</td>
</tr>
<tr class="odd">
<td align="left">listSamplesForExperiment</td>
<td align="left">implemented</td>
<td align="left">Return all samples that belong to the supplied experiment.</td>
</tr>
<tr class="even">
<td align="left">listSamplesForExperimentOnBehalfOfUser</td>
<td align="left">skipped</td>
<td align="left">Return all samples that belong to the supplied experiment that are visible to user userId.</td>
</tr>
<tr class="odd">
<td align="left">listSampleTypes</td>
<td align="left">implemented</td>
<td align="left">Returns all sample types.</td>
</tr>
<tr class="even">
<td align="left">listSpacesWithProjectsAndRoleAssignments</td>
<td align="left">skipped</td>
<td align="left">Returns all spaces of specified database instance enriched with their projects and role assignments.</td>
</tr>
<tr class="odd">
<td align="left">listVocabularies</td>
<td align="left">skipped</td>
<td align="left">Returns all available vocabularies together with the contained terms.</td>
</tr>
<tr class="even">
<td align="left">logout</td>
<td align="left">implemented</td>
<td align="left">Logout the session with the specified session token.</td>
</tr>
<tr class="odd">
<td align="left">searchForDataSets</td>
<td align="left">implemented</td>
<td align="left">Return all data sets matching specified search criteria.</td>
</tr>
<tr class="even">
<td align="left">searchForDataSetsOnBehalfOfUser</td>
<td align="left">skipped</td>
<td align="left">Return all data sets matching specified search criteria and visible to user userId.</td>
</tr>
<tr class="odd">
<td align="left">searchForExperiments</td>
<td align="left">implemented</td>
<td align="left">Returns all experiments matching specified search criteria.</td>
</tr>
<tr class="even">
<td align="left">searchForMaterials</td>
<td align="left">implemented</td>
<td align="left">Returns all material fulfilling specified search criteria.</td>
</tr>
<tr class="odd">
<td align="left">searchForSamples</td>
<td align="left">implemented</td>
<td align="left">Return all samples that match the search criteria.</td>
</tr>
<tr class="even">
<td align="left">searchForSamples</td>
<td align="left">implemented</td>
<td align="left">Return all samples that match the search criteria.</td>
</tr>
<tr class="odd">
<td align="left">searchForSamplesOnBehalfOfUser</td>
<td align="left">skipped</td>
<td align="left">Return all samples that match the search criteria and that a particular user is allowed to see.</td>
</tr>
<tr class="even">
<td align="left">tryGetDataStoreBaseURL</td>
<td align="left">implemented</td>
<td align="left">Returns the download URL for the data store of specified data set or null if such data set does not exist.</td>
</tr>
<tr class="odd">
<td align="left">tryToAuthenticateForAllServices</td>
<td align="left">implemented</td>
<td align="left">Tries to authenticate specified user with specified password.</td>
</tr>
</tbody>
</table>
</div>
<div id="interface-iscreeningapiserver" class="section level3">
<h3 class="hasAnchor">
<a href="#interface-iscreeningapiserver" class="anchor"></a>Interface IScreeningApiServer</h3>
<p>This interface is a part of the official public screening API. More information available <a href="https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/plugin/screening/shared/api/v1/IScreeningApiServer.html">here</a>.</p>
<table class="table">
<thead><tr class="header">
<th align="left">Method name</th>
<th align="left">Status</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">getDatasetIdentifiers</td>
<td align="left">implemented</td>
<td align="left">Converts a given list of dataset codes to dataset identifiers.</td>
</tr>
<tr class="even">
<td align="left">getExperimentImageMetadata</td>
<td align="left">implemented</td>
<td align="left">Returns aggregated metadata for all images/plates within one experiment.</td>
</tr>
<tr class="odd">
<td align="left">getPlateMetadataList</td>
<td align="left">implemented</td>
<td align="left">Fetches the contents of a given list of plates.</td>
</tr>
<tr class="even">
<td align="left">getPlateSample</td>
<td align="left">implemented</td>
<td align="left">For a given plateIdentifier, return the corresponding Sample.</td>
</tr>
<tr class="odd">
<td align="left">getWellSample</td>
<td align="left">implemented</td>
<td align="left">For a given wellIdentifier, return the corresponding Sample including properties.</td>
</tr>
<tr class="even">
<td align="left">listAvailableFeatureCodes</td>
<td align="left">skipped</td>
<td align="left">Groups the specified objects by a data store code and calls IDssServiceRpcScreening listAvailableFeatureCodes(String, List) method for each group of objects on appropriate data store server.</td>
</tr>
<tr class="odd">
<td align="left">listAvailableFeatures</td>
<td align="left">skipped</td>
<td align="left">Groups the specified objects by a data store code and calls IDssServiceRpcScreening listAvailableFeatures(String, List) method for each group of objects on appropriate data store server.</td>
</tr>
<tr class="even">
<td align="left">listAvailableImageRepresentationFormats</td>
<td align="left">skipped</td>
<td align="left">Groups the specified objects by a data store code and calls IDssServiceRpcScreening listAvailableImageRepresentationFormats(String, List) method for each group of objects on appropriate data store server.</td>
</tr>
<tr class="odd">
<td align="left">listExperiments</td>
<td align="left">implemented</td>
<td align="left">Return the list of all visible experiments, along with their hierarchical context (space, project).</td>
</tr>
<tr class="even">
<td align="left">listExperiments</td>
<td align="left">implemented</td>
<td align="left">Return the list of all experiments visible to user userId, along with their hierarchical context (space, project).</td>
</tr>
<tr class="odd">
<td align="left">listFeatureVectorDatasets</td>
<td align="left">implemented</td>
<td align="left">For a given set of plates (given by space / plate bar code), provide the list of all data sets containing feature vectors for each of these plates.</td>
</tr>
<tr class="even">
<td align="left">listImageDatasets</td>
<td align="left">skipped</td>
<td align="left">For a given set of plates provide the list of all data sets containing images for each of these plates.</td>
</tr>
<tr class="odd">
<td align="left">listImageMetadata</td>
<td align="left">skipped</td>
<td align="left">Groups the specified objects by a data store code and calls IDssServiceRpcScreening listImageMetadata(String, List) method for each group of objects on appropriate data store server.</td>
</tr>
<tr class="even">
<td align="left">listPlateMaterialMapping</td>
<td align="left">implemented</td>
<td align="left">For a given list of plates, return the mapping of plate wells to materials contained in each well.</td>
</tr>
<tr class="odd">
<td align="left">listPlates</td>
<td align="left">implemented</td>
<td align="left">Return the list of all visible plates assigned to any experiment, along with their hierarchical context (space, project, experiment).</td>
</tr>
<tr class="even">
<td align="left">listPlates</td>
<td align="left">implemented</td>
<td align="left">Return the list of all plates assigned to the given experiment.</td>
</tr>
<tr class="odd">
<td align="left">listPlateWells</td>
<td align="left">implemented</td>
<td align="left">For the given experimentIdentifier, find all plate locations that are connected to the specified materialIdentifier.</td>
</tr>
<tr class="even">
<td align="left">listPlateWells</td>
<td align="left">implemented</td>
<td align="left">For the given materialIdentifier, find all plate locations that are connected to it.</td>
</tr>
<tr class="odd">
<td align="left">listPlateWells</td>
<td align="left">implemented</td>
<td align="left">For the given plateIdentifier find all wells that are connected to it.</td>
</tr>
<tr class="even">
<td align="left">listRawImageDatasets</td>
<td align="left">implemented</td>
<td align="left">For a given set of plates provide the list of all data sets containing raw images for each of these plates.</td>
</tr>
<tr class="odd">
<td align="left">listSegmentationImageDatasets</td>
<td align="left">implemented</td>
<td align="left">For a given set of plates provide the list of all data sets containing segmentation images for each of these plates.</td>
</tr>
<tr class="even">
<td align="left">loadFeatures</td>
<td align="left">skipped</td>
<td align="left">Groups the specified objects by a data store code and calls IDssServiceRpcScreening loadFeatures(String, List, List) method for each group of objects on appropriate data store server.</td>
</tr>
<tr class="odd">
<td align="left">loadFeaturesForDatasetWellReferences</td>
<td align="left">skipped</td>
<td align="left">Groups the specified objects by a data store code and calls IDssServiceRpcScreening loadFeaturesForDatasetWellReferences(String, List, List) method for each group of objects on appropriate data store server.</td>
</tr>
<tr class="even">
<td align="left">loadImagesBase64</td>
<td align="left">skipped</td>
<td align="left">Groups the specified objects by a data store code and calls IDssServiceRpcScreening loadImagesBase64(String, List) method for each group of objects on appropriate data store server.</td>
</tr>
<tr class="odd">
<td align="left">loadImagesBase64</td>
<td align="left">skipped</td>
<td align="left">Groups the specified objects by a data store code and calls IDssServiceRpcScreening loadImagesBase64(String, List, boolean) method for each group of objects on appropriate data store server.</td>
</tr>
<tr class="even">
<td align="left">loadImagesBase64</td>
<td align="left">skipped</td>
<td align="left">Groups the specified objects by a data store code and calls IDssServiceRpcScreening loadImagesBase64(String, List, IImageRepresentationFormatSelectionCriterion…) method for each group of objects on appropriate data store server.</td>
</tr>
<tr class="odd">
<td align="left">loadImagesBase64</td>
<td align="left">skipped</td>
<td align="left">Groups the specified objects by a data store code and calls IDssServiceRpcScreening loadImagesBase64(String, List, ImageRepresentationFormat) method for each group of objects on appropriate data store server.</td>
</tr>
<tr class="even">
<td align="left">loadImagesBase64</td>
<td align="left">skipped</td>
<td align="left">Groups the specified objects by a data store code and calls IDssServiceRpcScreening loadImagesBase64(String, List, ImageSize) method for each group of objects on appropriate data store server.</td>
</tr>
<tr class="odd">
<td align="left">loadImagesBase64</td>
<td align="left">skipped</td>
<td align="left">Groups the specified objects by a data store code and calls IDssServiceRpcScreening loadImagesBase64(String, List, LoadImageConfiguration) method for each group of objects on appropriate data store server.</td>
</tr>
<tr class="even">
<td align="left">loadPhysicalThumbnailsBase64</td>
<td align="left">skipped</td>
<td align="left">Groups the specified objects by a data store code and calls IDssServiceRpcScreening loadPhysicalThumbnailsBase64(String, List, ImageRepresentationFormat) method for each group of objects on appropriate data store server.</td>
</tr>
<tr class="odd">
<td align="left">loadThumbnailImagesBase64</td>
<td align="left">skipped</td>
<td align="left">Groups the specified objects by a data store code and calls IDssServiceRpcScreening loadThumbnailImagesBase64(String, List) method for each group of objects on appropriate data store server.</td>
</tr>
<tr class="even">
<td align="left">logoutScreening</td>
<td align="left">skipped</td>
<td align="left">Logout the session with the specified session token.</td>
</tr>
<tr class="odd">
<td align="left">tryLoginScreening</td>
<td align="left">skipped</td>
<td align="left">Authenticates the user with a given password.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p><a href="http://www.jsonrpc.org/specification"><strong>JSON-RPC 2.0 Specification</strong> Rev. 2013-01-04. JSON-RPC Working Group</a><a href="#fnref1" class="footnote-back">↩</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#creating-a-rest-call">Creating a REST call</a></li>
      <li><a href="#creating-a-json-rpc-request">Creating a JSON-RPC request</a></li>
      <li><a href="#summary-of-api-methods">Summary of API methods</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/ropensci" target="_blank"><div class="icon fab fa-github"></div></a>
                        <a href="http://github.com/ropenscilabs" target="_blank"><div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/ropensci" target="_blank"><div class="icon fab fa-twitter"></div></a>
                        <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Info</h5>
                            <li><a href="https://ropensci.org/about">Mission</a></li>
                            <li><a href="https://ropensci.org/about#team">Team</a></li>
                            <li><a href="https://ropensci.org/about#collaborators">Collaborators</a></li>
                            <li><a href="https://ropensci.org/careers">Careers</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Work</h5>
                            <li><a href="https://ropensci.org/packages/">Packages</a></li>
                            <li><a href="https://ropensci.org/blog/">Blog</a></li>
                            <li><a href="https://ropensci.org/technotes/">Tech Notes</a></li>
                            <li><a href="https://ropensci.org/tutorials/">Tutorials</a></li>
                            <li><a href="https://ropensci.org/usecases/">Use Cases</a></li>
                            <li><a href="https://ropensci.org/resources/">More Resources</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Participate</h5>
                            <li><a href="https://ropensci.org/contact/">Contact us</a></li>
                            <li><a href="https://ropensci.org/community/">Community</a></li>
                            <li><a href="https://ropensci.org/software-review/">Contribute software</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct">Code of conduct</a></li>
                            <li><a href="https://ropensci.org/events/">Events</a></li>
                            <li><a href="https://ropensci.org/commcalls/">Community calls</a></li>
                            <li><a href="https://ropensci.org/donate/">Donate</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                        <a href="http://numfocus.org" target="_blank"></a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '799829e946e1f0f9cd5b5a782c6316b9',
    indexName: 'ropensci-infx',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
