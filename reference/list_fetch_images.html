<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>List image meta data and download images — fetch_images • rOpenSci: infx</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<!-- Bootstrap -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>

<!-- ropensci -->
<link href="../ropensci.css?nocache=123" rel="stylesheet">

<meta property="og:title" content="List image meta data and download images — fetch_images" />
<meta property="og:description" content="Experiment level image meta data can be listed by passing experiment
representing objects (Experiment or ExperimentIdentifier) to
list_image_metadata() and data set level image meta data can be retrieved
by passing data set identifying objects which can be associated with image
data sets (data set id and data set reference objects). Images themselves
can be retrieved using fetch_images(). As with meta data listing, this
function can be dispatched on objects referencing or identifying data sets
associated with image data." />
<meta name="twitter:card" content="summary" />






<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-462421-8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-462421-8');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci" /></a>
        <a class="navbar-brand" href="../index.html"><i>infx <small>v0.1.0</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/infx-intro.html">Introduction to infx</a>
    </li>
    <li>
      <a href="../articles/json-class.html">JSON object handling</a>
    </li>
    <li>
      <a href="../articles/openbis-api.html">OpenBIS API coverage</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        
      </ul>
      
      <form class="navbar-form navbar-right docsearch" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>List image meta data and download images</h1>
    
    <div class="hidden name"><code>list_fetch_images.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Experiment level image meta data can be listed by passing experiment
representing objects (<code>Experiment</code> or <code>ExperimentIdentifier</code>) to
<code>list_image_metadata()</code> and data set level image meta data can be retrieved
by passing data set identifying objects which can be associated with image
data sets (data set id and data set reference objects). Images themselves
can be retrieved using <code>fetch_images()</code>. As with meta data listing, this
function can be dispatched on objects referencing or identifying data sets
associated with image data.</p>
    </div>

    <pre class="usage"><span class='fu'>fetch_images</span>(<span class='no'>token</span>, <span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for DatasetIdentifier</span>
<span class='fu'>fetch_images</span>(<span class='no'>token</span>, <span class='no'>x</span>, <span class='no'>channels</span>,
  <span class='kw'>well_positions</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>image_size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>thumbnails</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for DatasetReference</span>
<span class='fu'>fetch_images</span>(<span class='no'>token</span>, <span class='no'>x</span>, <span class='no'>channels</span>,
  <span class='kw'>well_positions</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>image_size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>thumbnails</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for ImageDatasetReference</span>
<span class='fu'>fetch_images</span>(<span class='no'>token</span>, <span class='no'>x</span>, <span class='no'>channels</span>,
  <span class='kw'>well_positions</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>image_size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>thumbnails</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for MicroscopyImageReference</span>
<span class='fu'>fetch_images</span>(<span class='no'>token</span>, <span class='no'>x</span>,
  <span class='kw'>well_positions</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>image_size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>thumbnails</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for PlateImageReference</span>
<span class='fu'>fetch_images</span>(<span class='no'>token</span>, <span class='no'>x</span>, <span class='kw'>image_size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>force_png</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>thumbnails</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='fu'>list_image_metadata</span>(<span class='no'>token</span>, <span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for ExperimentIdentifier</span>
<span class='fu'>list_image_metadata</span>(<span class='no'>token</span>, <span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for Experiment</span>
<span class='fu'>list_image_metadata</span>(<span class='no'>token</span>, <span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for DatasetIdentifier</span>
<span class='fu'>list_image_metadata</span>(<span class='no'>token</span>, <span class='no'>x</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"metadata"</span>, <span class='st'>"format"</span>), <span class='no'>...</span>)

<span class='co'># S3 method for DatasetReference</span>
<span class='fu'>list_image_metadata</span>(<span class='no'>token</span>, <span class='no'>x</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"metadata"</span>, <span class='st'>"format"</span>), <span class='no'>...</span>)

<span class='co'># S3 method for ImageDatasetReference</span>
<span class='fu'>list_image_metadata</span>(<span class='no'>token</span>, <span class='no'>x</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"metadata"</span>, <span class='st'>"format"</span>), <span class='no'>...</span>)

<span class='co'># S3 method for MicroscopyImageReference</span>
<span class='fu'>list_image_metadata</span>(<span class='no'>token</span>, <span class='no'>x</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"metadata"</span>, <span class='st'>"format"</span>), <span class='no'>...</span>)

<span class='co'># S3 method for PlateImageReference</span>
<span class='fu'>list_image_metadata</span>(<span class='no'>token</span>, <span class='no'>x</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"metadata"</span>, <span class='st'>"format"</span>), <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>token</th>
      <td><p>Login token as created by <code><a href='login.html'>login_openbis()</a></code>.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>Object to limit the number of returned images</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Generic compatibility. Extra arguments will be passed to
<code><a href='request.html'>make_requests()</a></code>.</p></td>
    </tr>
    <tr>
      <th>channels</th>
      <td><p>A character vector of imaging channels</p></td>
    </tr>
    <tr>
      <th>well_positions</th>
      <td><p>A (list of) <code>WellPosition</code> objects. If the object
passed as argument x already contains well position information this can
be NULL.</p></td>
    </tr>
    <tr>
      <th>image_size</th>
      <td><p>Either a single <code>ImageSize</code> object or NULL, in which case
images are returned in full size.</p></td>
    </tr>
    <tr>
      <th>thumbnails</th>
      <td><p>Logical switch; if TRUE, thumbnail images are retrieved
in which case the arguments <code>well_positions</code> and <code>image_size</code> are expected
to be at their default values.</p></td>
    </tr>
    <tr>
      <th>force_png</th>
      <td><p>Logical switch for making sure the returned image is a
png. If NULL or FALSE, the image is returned in the format it is stored.</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>If not NULL, a single <code>ImageRepresentationFormat</code> object.
Cannot be combined with non-default <code>image_size</code>, <code>force_png</code> and <code>format</code>
arguments.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>Switch to specify the type of meta data objects to be returned.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>For <code>list_image_metadata()</code>, either a <code><a href='json_class.html'>json_class</a></code> (single
object) or a <code><a href='json_vec.html'>json_vec</a></code> (multiple objects), is returned. For the specific
sub-class, refer to the <em>Details</em> section. Image data retrieved with
<code>fetch_images()</code> is read by <code><a href='https://docs.ropensci.org/magick/reference/editing.html'>magick::image_read()</a></code> and returned as
(possibly nested) <code>list</code> of <code>magick-image</code> objects.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Data set level image meta data can be listed by passing objects, which
implement the <code>IDatasetIdentifier</code> interface and are connected to image
data sets (this rules out feature data set references and leaves
<code>DatasetIdentifier</code>, <code>DatasetReference</code>, <code>ImageDatasetReference</code>,
<code>MicroscopyImageReference</code> and <code>PlateImageReference</code> objects). Two
different types of meta data objects are returned, depending on the <code>type</code>
argument: if it is set to <code>metadata</code> (default), objects of type
<code>ImageDatasetMetadata</code> and if it is set to <code>format</code>, objects of type
<code>DatasetImageRepresentationFormats</code> are returned. For experiment-level
image meta data, <code>ExperimentImageMetadata</code> objects are returned.</p>
<p>Dispatch of <code>fetch_images()</code> is available for the same object types as data
set-level image meta data listing: <code>DatasetIdentifier</code>, <code>DatasetReference</code>,
<code>ImageDatasetReference</code>, <code>MicroscopyImageReference</code> and
<code>PlateImageReference</code>. The highest level of control over which images are
retrieved is achieved with <code>PlateImageReference</code> objects, which specify an
image data set, a well, a tile and a channel. The returned image format can
be modified by either passing an <code>ImageRepresentationFormat</code> object as the
<code>format</code> argument, by passing a single/list of format selection criterion
objects, which will be used to filter the available image representation
format objects or by specifying one or both of the <code>image_size</code> (expects an
<code>ImageSize</code> object) and <code>force_png</code> (logical switch) arguments.</p>
<p><code>MicroscopyImageReference</code> objects contain channel information (as well as
tile information, which is not taken into account though). Therefore a
(list of) <code>WellPosition</code> object(s) has/have to be specified, for which then
all tiles are fetched for the given imaging channel. If the passed list of
<code>MicroscopyImageReference</code> objects contain instances that only differ in
tile number, redundancies are filtered out. An API call is necessary for
each non-redundant object.</p>
<p>Finally, <code>DatasetIdentifier</code>, <code>DatasetReference</code> and <code>ImageDatasetReference</code>
objects are all handled identically. For each of the specified data sets,
an imaging channel has to be provided and whenever the data set is
associated with an entire plate, a (list of) <code>WellPosition</code> object(s) as
well. If the data set is associated with a single well, the
<code>well_positions</code> can be left at its default value (NULL). If several data
sets are passed, an API call is necessary per data set. Possible
redundancies are not filtered.</p>
<p>Images are retrieved as Base64 encoded strings, which are converted to
binary using <code><a href='https://rdrr.io/pkg/base64enc/man/base64.html'>base64enc::base64decode()</a></code> and subsequently read by
<code><a href='https://docs.ropensci.org/magick/reference/editing.html'>magick::image_read()</a></code>. Attached to the images is the information, based
on which they were retrieved, including data set object, well positions
(where applicable) and channel (where applicable). This results in a list
with length corresponding to the number of API calls that were necessary.</p>
    <h2 class="hasAnchor" id="implementation-notes"><a class="anchor" href="#implementation-notes"></a>Implementation notes</h2>

    

<ul>
<li><p>For dispatch on <code>PlateImageReference</code> objects, currently the only options
controlling the returned images are an argument for image size and a flag
for forcing the returned format to png. OpenBIS also supports
pre-defined image transformations to be applied to the images before they
are sent to the requesting party. These transformations can be requested
by a code (options are listed in <code>ImageRepresentationFormat</code> objects or
in <code>ImageChannel</code> objects attached to <code>ImageDatasetMetadata</code> objects).
However, as no such transformations appear to be defined, this is
currently not implemented.</p></li>
<li><p>When filtering <code>ImageRepresentationFormat</code> objects associated with a data
set, only <code>SizeCriterion</code> objects can be used. The remaining criteria
(<code>ColorDepthCriterion</code>, <code>FileTypeCriterion</code> and <code>OriginalCriterion</code>) are
currently disabled as they extend the abstract class
<code>AbstractFormatSelectionCriterion</code>, which causes an issue with JSON
deserialization.</p></li>
</ul>

    <h2 class="hasAnchor" id="openbis"><a class="anchor" href="#openbis"></a>openBIS</h2>

    

<ul>
<li><p><a href='https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/dss/screening/shared/api/v1/IDssServiceRpcScreening.html'>IDssServiceRpcScreening:loadImagesBase64</a></p></li>
<li><p><a href='https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/dss/screening/shared/api/v1/IDssServiceRpcScreening.html'>IDssServiceRpcScreening:loadThumbnailImagesBase64</a></p></li>
</ul>


<ul>
<li><p><a href='https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/dss/screening/shared/api/v1/IDssServiceRpcScreening.html'>IDssServiceRpcScreening:loadPhysicalThumbnailsBase64</a></p></li>
</ul>


<ul>
<li><p><a href='https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/plugin/screening/shared/api/v1/IScreeningApiServer.html'>IScreeningApiServer:getExperimentImageMetadata</a></p></li>
<li><p><a href='https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/dss/screening/shared/api/v1/IDssServiceRpcScreening.html'>IDssServiceRpcScreening:listImageMetadata</a></p></li>
<li><p><a href='https://svnsis.ethz.ch/doc/openbis/13.04.0/ch/systemsx/cisd/openbis/dss/screening/shared/api/v1/IDssServiceRpcScreening.html'>IDssServiceRpcScreening:listAvailableImageRepresentationFormats</a></p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other resource listing/downloading functions: <code><a href='list_urls.html'>list_download_urls</a></code>,
  <code><a href='list_fetch_features.html'>list_features</a></code>, <code><a href='list_fetch_files.html'>list_files</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
  <span class='no'>tok</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='login.html'>login_openbis</a></span>()

  <span class='co'># search for a sample object corresponding to plate KB2-03-1I</span>
  <span class='no'>samp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='search_openbis.html'>search_openbis</a></span>(<span class='no'>tok</span>,
                         <span class='fu'><a href='search_openbis.html'>search_criteria</a></span>(
                           <span class='fu'><a href='search_openbis.html'>attribute_clause</a></span>(<span class='st'>"code"</span>,
                                            <span class='st'>"/INFECTX_PUBLISHED/KB2-03-1I"</span>)
                         ),
                         <span class='kw'>target_object</span> <span class='kw'>=</span> <span class='st'>"sample"</span>)
  <span class='co'># for the plate sample object, list raw image data set references</span>
  <span class='no'>ds_ref</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='list_datasets.html'>list_references</a></span>(<span class='no'>tok</span>, <span class='no'>samp</span>)

  <span class='co'># the returned image dataset reference can be used to list image meta data</span>
  <span class='no'>img_meta</span> <span class='kw'>&lt;-</span> <span class='fu'>list_image_metadata</span>(<span class='no'>tok</span>, <span class='no'>ds_ref</span>)
  <span class='no'>channels</span> <span class='kw'>&lt;-</span> <span class='no'>img_meta</span><span class='kw'>[[</span><span class='st'>"channelCodes"</span>]]

  <span class='no'>imgs</span> <span class='kw'>&lt;-</span> <span class='fu'>fetch_images</span>(<span class='no'>tok</span>, <span class='no'>ds_ref</span>,
                       <span class='kw'>channels</span> <span class='kw'>=</span> <span class='no'>channels</span><span class='kw'>[[</span><span class='fl'>1L</span>]],
                       <span class='kw'>well_positions</span> <span class='kw'>=</span> <span class='fu'><a href='list_plate_well.html'>well_pos</a></span>(<span class='fl'>1</span>, <span class='fl'>1</span>),
                       <span class='kw'>image_size</span> <span class='kw'>=</span> <span class='fu'><a href='json_class.html'>json_class</a></span>(<span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>300</span>, <span class='kw'>height</span> <span class='kw'>=</span> <span class='fl'>300</span>,
                                               <span class='kw'>class</span> <span class='kw'>=</span> <span class='st'>"ImageSize"</span>))
  <span class='co'># this yields 9 images, one per tile</span>
  <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span>(<span class='no'>imgs</span><span class='kw'>[[</span><span class='fl'>1L</span>]]) <span class='kw'>==</span> <span class='no'>img_meta</span><span class='kw'>[[</span><span class='st'>"numberOfTiles"</span>]]</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>  <span class='co'># and each image is scaled to fit within 300 x 300 pixels</span>
  <span class='kw pkg'>magick</span><span class='kw ns'>::</span><span class='fu'><a href='https://docs.ropensci.org/magick/reference/attributes.html'>image_info</a></span>(<span class='no'>imgs</span><span class='kw'>[[</span><span class='fl'>1L</span>]]<span class='kw'>[[</span><span class='fl'>1L</span>]])</div><div class='output co'>#&gt; # A tibble: 1 x 7
#&gt;   format width height colorspace matte filesize density
#&gt;   &lt;chr&gt;  &lt;int&gt;  &lt;int&gt; &lt;chr&gt;      &lt;lgl&gt;    &lt;int&gt; &lt;chr&gt;  
#&gt; 1 PNG      300    224 Gray       FALSE    67598 72x72  </div><div class='input'>
  <span class='co'># if not the entire well is of interest, but only certain tiles</span>
  <span class='no'>img_ref</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='list_datasets.html'>list_references</a></span>(<span class='no'>tok</span>, <span class='no'>ds_ref</span>,
                             <span class='kw'>wells</span> <span class='kw'>=</span> <span class='fu'><a href='list_plate_well.html'>well_pos</a></span>(<span class='fl'>1</span>, <span class='fl'>1</span>),
                             <span class='kw'>channels</span> <span class='kw'>=</span> <span class='no'>channels</span><span class='kw'>[[</span><span class='fl'>1L</span>]])
  <span class='co'># this yields 9 objects, one reference per tile</span>
  <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span>(<span class='no'>img_ref</span>)</div><div class='output co'>#&gt; [1] 9</div><div class='input'>  <span class='co'># select a tile, for example the center one</span>
  <span class='no'>img</span> <span class='kw'>&lt;-</span> <span class='fu'>fetch_images</span>(<span class='no'>tok</span>, <span class='no'>img_ref</span><span class='kw'>[[</span><span class='fl'>5L</span>]],
                      <span class='kw'>image_size</span> <span class='kw'>=</span> <span class='fu'><a href='json_class.html'>json_class</a></span>(<span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>300</span>, <span class='kw'>height</span> <span class='kw'>=</span> <span class='fl'>300</span>,
                                              <span class='kw'>class</span> <span class='kw'>=</span> <span class='st'>"ImageSize"</span>))
  <span class='fu'><a href='https://rdrr.io/r/base/identical.html'>identical</a></span>(<span class='fu'><a href='https://rdrr.io/r/grDevices/as.raster.html'>as.raster</a></span>(<span class='no'>img</span><span class='kw'>[[</span><span class='fl'>1L</span>]]), <span class='fu'><a href='https://rdrr.io/r/grDevices/as.raster.html'>as.raster</a></span>(<span class='no'>imgs</span><span class='kw'>[[</span><span class='fl'>1L</span>]]<span class='kw'>[[</span><span class='fl'>5L</span>]]))</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
  <span class='fu'><a href='login.html'>logout_openbis</a></span>(<span class='no'>tok</span>)
<span class='co'># }</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#implementation-notes">Implementation notes</a></li>
      <li><a href="#openbis">openBIS</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <!-- begin footer -->
<div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg" /></div>
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/ropensci" target="_blank"><div class="icon fab fa-github"></div></a>
                        <a href="http://github.com/ropenscilabs" target="_blank"><div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/ropensci" target="_blank"><div class="icon fab fa-twitter"></div></a>
                        <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">Info</h5>
                            <li><a href="https://ropensci.org/about">Mission</a></li>
                            <li><a href="https://ropensci.org/about#team">Team</a></li>
                            <li><a href="https://ropensci.org/about#collaborators">Collaborators</a></li>
                            <li><a href="https://ropensci.org/careers">Careers</a></li>
                        </ul>
                    </div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">Work</h5>
                            <li><a href="https://ropensci.org/packages/">Packages</a></li>
                            <li><a href="https://ropensci.org/blog/">Blog</a></li>
                            <li><a href="https://ropensci.org/technotes/">Tech Notes</a></li>
                            <li><a href="https://ropensci.org/tutorials/">Tutorials</a></li>
                            <li><a href="https://ropensci.org/usecases/">Use Cases</a></li>
                            <li><a href="https://ropensci.org/resources/">More Resources</a></li>
                        </ul>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">Participate</h5>
                            <li><a href="https://ropensci.org/contact/">Contact us</a></li>
                            <li><a href="https://ropensci.org/community/">Community</a></li>
                            <li><a href="https://ropensci.org/software-review/">Contribute software</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct">Code of conduct</a></li>
                            <li><a href="https://ropensci.org/events/">Events</a></li>
                            <li><a href="https://ropensci.org/commcalls/">Community calls</a></li>
                            <li><a href="https://ropensci.org/donate/">Donate</a></li>
                        </ul>
                    </div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                        <a href="http://numfocus.org" target="_blank"></a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '799829e946e1f0f9cd5b5a782c6316b9',
    indexName: 'ropensci-infx',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


